pipeline {
  agent  any
    environment{
      VERSION_NUM = '1.0'
    }
    stages {
      stage("build"){
        when{
          expression{
            env.BRANCH_NAME == 'br1'
           }
        }
        steps{
          echo  "${VERSION_NUM}"
          echo "building the application..."
        }
      }

       stage("test"){
        steps{
          echo  "${VERSION_NUM}"
          echo "testing the application..."
        }
      }

       stage("deploy"){
        steps{
          echo "${VERSION_NUM}"
          echo "deploying the application..."
        }
      }
   }
   post{
    always{
        echo "reached end of version echo ${VERSION_NUM}"
      }
    failure{
      echo "this won't be displayed in console"
      }
     success{
        echo "successfully executed..."
      }
   }
}
